<!doctype HTML>
<html ng-app="Tabsets" ng-csp>
<head>
	<link rel="stylesheet" href="css/popup.css"></style>

	<script src="js/lib/angular.min.js"></script>
	<script src="js/app/app.js"></script>
	<script src="js/app/popup.js"></script>
</head>
<body>
<div ng-controller="TabsetsController">
	<h1>{{name}} v{{version}}</h1>
	<form name="newTabsetForm">
		<label for="newTabsetName">Create a new tabset</label>
		<input id="newTabsetName" type="text" ng-model="newTabsetName" required />
		<button ng-click="newTabset()" ng-disabled="newTabsetForm.$invalid" class="defaultAction">Create</button>
	</form>

	<table>
		<thead>
			<tr>
				<td>Name</td>
				<td>Created</td>
			</tr>
		</thead>
		<tbody>
			<tr ng-repeat="tabset in tabsets">
				<td>
					<span ng-click="toggle(tabset)" class="tabsetExpando" ng-class="{expanded:tabset.isExpanded}" title="Show/Hide the tabs in this tabset"></span>
					<a class="tabsetTitle" ng-click="openTabset(tabset)" href="#" title="Open all the tabs in this tabset">{{tabset.name}} ({{tabset.tabs.length}})</a>
					<span ng-click="delTabset(tabset)" title="Delete this tabset" class="delete"></span>
					<ul ng-repeat="tab in tabset.tabs" ng-show="tabset.isExpanded">
						<li><a target="_blank" href="{{tab.url}}">{{tab.title}}</li>
					</ul>
				</td>
				<td>{{tabset.created}}</td>
			</tr>
		</tbody>
	</table>
</div>
</body>
</html>